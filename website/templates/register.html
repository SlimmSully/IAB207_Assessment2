{% extends 'base.html' %} {% block content %}
<main class="container py-5" style="max-width: 720px">
  <h2 class="mb-4 text-center">Create an account</h2>

  {# flash messages #} {% with messages = get_flashed_messages() %} {% if
  messages %}
  <div class="alert alert-info">
    {% for m in messages %}{{ m }}<br />{% endfor %}
  </div>
  {% endif %} {% endwith %}

  <form method="POST" action="{{ url_for('auth.register') }}">
    {{ form.hidden_tag() }}

    <div class="row g-3">
      <div class="col-md-6">
        {{ form.first_name.label(class="form-label") }} {{
        form.first_name(class="form-control", placeholder="First name") }} {%
        for e in form.first_name.errors %}
        <div class="text-danger small mt-1">{{ e }}</div>
        {% endfor %}
      </div>
      <div class="col-md-6">
        {{ form.last_name.label(class="form-label") }} {{
        form.last_name(class="form-control", placeholder="Surname") }} {% for e
        in form.last_name.errors %}
        <div class="text-danger small mt-1">{{ e }}</div>
        {% endfor %}
      </div>
    </div>

    <div class="mt-3">
      {{ form.email.label(class="form-label") }} {{
      form.email(class="form-control", placeholder="you@example.com") }} {% for
      e in form.email.errors %}
      <div class="text-danger small mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    {# optional display name field retained to match your form class #}
    <div class="mt-3">
      {{ form.user_name.label(class="form-label") }} {{
      form.user_name(class="form-control", placeholder="username (optional)") }}
      {% for e in form.user_name.errors %}
      <div class="text-danger small mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <div class="mt-3">
      {{ form.phone.label(class="form-label") }} {{
      form.phone(class="form-control", placeholder="04xx xxx xxx") }} {% for e
      in form.phone.errors %}
      <div class="text-danger small mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <div class="mt-3">
      {{ form.address.label(class="form-label") }} {{
      form.address(class="form-control", placeholder="123 Your Street") }} {%
      for e in form.address.errors %}
      <div class="text-danger small mt-1">{{ e }}</div>
      {% endfor %}
    </div>

    <div class="row g-3 mt-1">
      <div class="col-md-6">
        {{ form.password.label(class="form-label") }} {{
        form.password(class="form-control") }} {% for e in form.password.errors
        %}
        <div class="text-danger small mt-1">{{ e }}</div>
        {% endfor %}
      </div>
      <div class="col-md-6">
        {{ form.confirm.label(class="form-label") }} {{
        form.confirm(class="form-control") }} {% for e in form.confirm.errors %}
        <div class="text-danger small mt-1">{{ e }}</div>
        {% endfor %}
      </div>
    </div>

    <div class="mt-4">{{ form.submit(class="btn btn-dark w-100") }}</div>

    <p class="text-center text-muted small mt-3 mb-0">
      Already have an account? <a href="{{ url_for('auth.login') }}">Log in</a>
    </p>
  </form>
</main>
{% endblock %}
